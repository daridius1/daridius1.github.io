import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.WFquGv8Z.js";import u from"./PostCard.CBOXvjt0.js";const h=6;function v({posts:x,allTags:i}){const[r,m]=o.useState([]),[l,n]=o.useState(1),b=e=>{m(s=>s.includes(e)?s.filter(c=>c!==e):[...s,e]),n(1)};o.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("tag");s&&i.includes(s)&&m([s])},[i]);const a=o.useMemo(()=>x.filter(e=>r.length===0||r.every(c=>e.data.tags.includes(c))),[x,r]),d=Math.ceil(a.length/h),w=o.useMemo(()=>{const e=(l-1)*h;return a.slice(e,e+h)},[a,l]);return o.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[l]),t.jsxs("div",{className:"w-full space-y-12",children:[t.jsx("div",{className:"flex flex-col gap-6 bg-black/40 backdrop-blur-xl p-6 rounded-2xl border border-white/10",children:t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[i.some(e=>["Proyectos","Sobre mí","Reviews","Ideas"].includes(e))&&t.jsx("div",{className:"flex flex-wrap gap-2 pb-4 border-b border-white/10",children:i.filter(e=>["Proyectos","Sobre mí","Reviews","Ideas"].includes(e)).map(e=>t.jsxs("button",{onClick:()=>b(e),className:`btn btn-sm border transition-all rounded-full ${r.includes(e)?"btn-primary border-primary text-white shadow-[0_0_15px_rgba(37,99,235,0.3)]":"btn-ghost border-white/10 text-white/50 hover:bg-white/10 hover:text-white hover:border-white/30"}`,children:[e,r.includes(e)&&t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e))}),t.jsx("div",{className:"flex flex-wrap gap-2",children:i.filter(e=>!["Proyectos","Sobre mí","Reviews","Ideas"].includes(e)).map(e=>t.jsxs("button",{onClick:()=>b(e),className:`btn btn-sm border transition-all rounded-full ${r.includes(e)?"btn-primary border-primary text-white shadow-[0_0_15px_rgba(37,99,235,0.3)]":"btn-ghost border-white/10 text-white/50 hover:bg-white/10 hover:text-white hover:border-white/30"}`,children:[e,r.includes(e)&&t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e))})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[w.map(e=>t.jsx(u,{title:e.data.title,description:e.data.description,slug:e.slug,date:new Date(e.data.pubDate).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}),tags:e.data.tags},e.slug)),a.length===0&&t.jsx("div",{className:"col-span-full py-32 text-center rounded-2xl bg-white/5 border border-dashed border-white/10",children:t.jsxs("div",{className:"opacity-30 flex flex-col items-center",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-xl font-bold",children:"No se encontraron resultados"}),t.jsx("p",{className:"text-sm",children:"Prueba ajustando los filtros"})]})})]}),d>1&&t.jsxs("div",{className:"flex justify-center items-center gap-4 pt-8",children:[t.jsx("button",{onClick:()=>n(e=>Math.max(e-1,1)),disabled:l===1,className:"btn btn-sm btn-circle btn-ghost border border-white/10 disabled:opacity-20",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),t.jsx("div",{className:"flex items-center gap-2",children:[...Array(d)].map((e,s)=>t.jsx("button",{onClick:()=>n(s+1),className:`w-8 h-8 rounded-full text-xs font-bold transition-all ${l===s+1?"bg-white text-black":"text-white/40 hover:bg-white/10 hover:text-white"}`,children:s+1},s+1))}),t.jsx("button",{onClick:()=>n(e=>Math.min(e+1,d)),disabled:l===d,className:"btn btn-sm btn-circle btn-ghost border border-white/10 disabled:opacity-20",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})}export{v as default};
